"use strict";var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Menu=function(){function e(){_classCallCheck(this,e),this.$headerClickImg=".header_menu .menu_click",this.$footerClickImg=".footer_menu .menu_click",this.$headerDropleft=".header_menu .dropleft",this.$footerDropleft=".footer_menu .dropleft",this.$menuClick=".menu_click",this.$wrapper=".wrapper",this.menuHeaderIcon="img/menu/menu_header.png",this.menuFooterIcon="img/menu/menu_footer.png",this.$menuButton=".btn_menu",this.menuActive="menu_click_active"}return _createClass(e,[{key:"menuRender",value:function(){var e=this;$(e.$headerClickImg).attr("src",e.menuHeaderIcon),$(e.$footerClickImg).attr("src",e.menuFooterIcon),$(e.$menuButton).on("click",function(){$($(this).find(e.$menuClick)).toggleClass(e.menuActive)}),$(e.$wrapper).on("click",function(){$(e.$headerDropleft).hasClass("show")&&$(e.$headerClickImg).removeClass(e.menuActive),$(e.$footerDropleft).hasClass("show")&&$(e.$footerClickImg).removeClass(e.menuActive)})}}]),e}();_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Gallery=function(){function e(){_classCallCheck(this,e),this.galleryData=[],this.gallery=document.querySelector(".gallery"),this.galleryMobile="gallery_mobile",this.galleryImage=document.querySelectorAll(".gallery_image"),this.galleryTitle=document.querySelectorAll(".gallery_item_title"),this.gallerySubtitle=document.querySelectorAll(".gallery_item_subtitle"),this.galleryMouth=document.querySelectorAll(".gallery_item_mouth"),this.galleryDay=document.querySelectorAll(".gallery_item_day"),this.galleryLikeCount=document.querySelectorAll(".gallery_item_like_count"),this.galleryCommentsCount=document.querySelectorAll(".gallery_item_comments_count"),this.galleryBtn=document.querySelectorAll(".open_full_btn"),this.commentsList=document.querySelector(".modal_comments"),this.galleryUserComment=document.querySelector("#galleryUserComment"),this.galleryItem=document.querySelectorAll(".gallery_item"),this.$gallerySendComment="#gallerySendComment",this.$openModal=".open_full_btn",this.$modalClose="#modalFullClose, #modalOverlay",this.$modalOverlay="#modalOverlay",this.$modalFullImage="#modalFullImg",this.$modalGallery=".modal_full_gallery",this.$galleryLike=".gallery_item_like",this.$galleryLikeCount=".gallery_item_like_count",this.$galleryComments=".gallery_item_comments",this.$galleryCommentsCount=".gallery_item_comments_count",this.$modalLike="#modalLike",this.imgCount=null}return _createClass(e,[{key:"galleryRender",value:function(){$.ajax({context:this,url:"./../gallery.json",type:"get",dataType:"json",success:function(e){for(var t=0;t<this.galleryImage.length;t++)this.galleryImage[t].setAttribute("src",e[t].srcImage),this.galleryTitle[t].innerHTML=e[t].header.title,this.gallerySubtitle[t].innerHTML=e[t].header.subtitle,this.galleryMouth[t].innerHTML=e[t].header.month,this.galleryDay[t].innerHTML=e[t].header.day,this.galleryLikeCount[t].innerHTML=e[t].footer.likeCounter,this.galleryCommentsCount[t].innerHTML=e[t].footer.commentsCounter,this.galleryBtn[t].setAttribute("data-image",""+t),this.galleryData[t]=e[t]}})}},{key:"openPanel",value:function(){var t=this;$(t.$modalClose).on("click",function(){$(t.$modalGallery).hide("slow"),$(t.$modalOverlay).css({display:"none"})}),$(t.$openModal).on("click",function(){t.imgCount=$(this).data().image,$(t.$modalFullImage).attr("src",t.galleryData[$(this).data().image].srcImage),$(t.$modalOverlay).css({display:"block"}),$(t.$modalGallery).show("slow"),t.comments(parseInt($($(this).parent().prev().find(t.$galleryCommentsCount)).text()))}),$(t.$modalLike).click(function(){$($(t.$galleryLike)[t.imgCount]).trigger("click"),$(this).animate({fontSize:"110px"},"fast","linear",function(){$(this).animate({fontSize:"90px"},"fast","linear")}.bind(this))}),$(t.$galleryComments).on("click",function(){$($($($(this).parent()).parent()).next()).find(t.$openModal).trigger("click")}),$(t.$gallerySendComment).on("click",function(e){e.preventDefault(),t.addComment()})}},{key:"likeInc",value:function(){var n=this;$(n.$galleryLike).on("click",function(){var e=$($(this).find(n.$galleryLikeCount)),t=parseInt(e.text())+1;$(e).text(t)})}},{key:"comments",value:function(r){$.ajax({context:this,type:"get",url:"http://jsonplaceholder.typicode.com/comments",dataType:"json",success:function(e){for(var t=Math.floor(400*Math.random()),n=t+r,a="",i=t;i<n;i++)a+='<div class="modal_comments_item card"><div class="card-body">'+e[i].body+" "+i+"</div></div>";this.commentsList.innerHTML="",$(a).appendTo(this.commentsList)}})}},{key:"addComment",value:function(){var e=this.galleryUserComment;if(e.value){var t='<div class="modal_comments_item card"><div class="card-body">'+e.value+"</div></div>",n=$($(this.$galleryCommentsCount)[this.imgCount]);return $(t).appendTo(this.commentsList),e.value="",n.text(parseInt(n.text())+1),!0}}},{key:"mobileVersion",value:function(){var e=this;document.documentElement.clientWidth<=981&&this.gallery.classList.add(this.galleryMobile),window.onresize=function(){document.documentElement.clientWidth<=981?e.gallery.classList.add(e.galleryMobile):e.gallery.classList.remove(e.galleryMobile)}}}]),e}();_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Sidebar=function(){function t(e){_classCallCheck(this,t),this.items=e}return _createClass(t,[{key:"render",value:function(){var t="";return this.items&&this.items.forEach(function(e){t+='<div class="sidebar_tab">'+e.text+' (<span class="sidebar_count">'+e.count+"</span>)</div>",t+='<div class="sidebar_content">'+e.insideContent.render()+"</div>"}),t}}]),t}(),SidebarUpLevel=function(){function t(e){_classCallCheck(this,t),this.items=e}return _createClass(t,[{key:"render",value:function(){var t="";return this.items&&this.items.forEach(function(e){t+='<div class="sidebar_inside_tab">'+e.month+' (<span class="sidebar_inside_count">'+e.count+"</span>)</div>",t+='<div class="sidebar_inside_content">'+e.content.render()+"</div>"}),t}}]),t}(),SidebarDownLevel=function(){function t(e){_classCallCheck(this,t),this.items=e}return _createClass(t,[{key:"render",value:function(){var t='<div class="sidebar_link_container">';return this.items&&this.items.forEach(function(e){t+=e.render()}),t+="</div>"}}]),t}(),SidebarLink=function(){function n(e,t){_classCallCheck(this,n),this.title=t,this.href=e}return _createClass(n,[{key:"render",value:function(){return'<a class="sidebar_link" href="'+this.href+'" target="_blank">'+this.title+"</a>"}}]),n}(),SidebarControl=function(){function e(){_classCallCheck(this,e),this.$categories=".sidebar_categories .sidebar_tab",this.$archive=".sidebar_archive .sidebar_tab",this.$insideContent=".sidebar_content .sidebar_inside_tab"}return _createClass(e,[{key:"render",value:function(){var e=this;$.ajax({type:"get",url:"./../sidebar.json",dataType:"json",success:function(t){for(var n=[],e=function(a){var e=t[a].content,i=[];e.forEach(function(e){var n=[],t=void 0;switch(a){case 0:e.subtext.forEach(function(e){n.push(new SidebarLink(e.href,e.title))}),t=new SidebarDownLevel(n);break;case 1:e.subtext.forEach(function(e){var t=[];e.content.forEach(function(e){t.push(new SidebarLink(e.href,e.title))}),n.push({month:e.month,count:e.count,content:new SidebarDownLevel(t)})}),t=new SidebarUpLevel(n)}i.push({count:e.count,text:e.text,insideContent:t})}),n.push(new Sidebar(i))},a=0;a<t.length;a++)e(a);var i=document.querySelectorAll(".sidebar_container");for(a=0;a<i.length;a++)i[a].innerHTML=n[a].render()},complete:function(){e.open()}})}},{key:"open",value:function(){var e=this;$(e.$categories).on("click",function(){$($(e.$categories).not(this).next()).slideUp("slow"),$($(this).next()).slideToggle("slow")}),$(e.$archive).on("click",function(){$($(e.$archive).not(this).next()).slideUp("slow"),$($(this).next()).slideToggle("slow")}),$(e.$insideContent).on("click",function(){$($(e.$insideContent).not(this).next()).slideUp("show"),$($(this).next()).slideToggle("slow")})}}]),e}();_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Blog=function(){function e(){_classCallCheck(this,e),this.data=[],this.title=document.querySelectorAll(".post_title"),this.date=document.querySelectorAll(".post_date"),this.categories=document.querySelectorAll(".post_categories"),this.readTime=document.querySelectorAll(".post_read_time"),this.postImage=document.querySelectorAll(".post_image"),this.postImageSignature=document.querySelectorAll(".post_image_text"),this.text=document.querySelectorAll(".post_text"),this.subtext=document.querySelectorAll(".post_subtext"),this.authorName=document.querySelectorAll(".post_author_name"),this.authorImage=document.querySelectorAll(".post_author_image")}return _createClass(e,[{key:"render",value:function(){$.ajax({context:this,type:"get",url:"./../post.json",dataType:"json",success:function(e){this.data=e},complete:function(){this.setData()}})}},{key:"setData",value:function(){for(var e=0;e<this.data.length;e++)this.title[e].innerHTML=this.data[e].header.title,this.date[e].innerHTML=this.data[e].header.date,this.categories[e].innerHTML=this.data[e].header.categories,this.readTime[e].innerHTML=this.data[e].header.readTime,this.postImage[e].setAttribute("src",this.data[e].content.image),this.postImageSignature[e].innerHTML=this.data[e].content.imageSignature,this.text[e].innerHTML=this.data[e].content.text,this.subtext[e].innerHTML=this.data[e].content.subtext,this.authorName[e].innerHTML=this.data[e].author.name,this.authorImage[e].setAttribute("src",this.data[e].author.image)}}]),e}();_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RandomPost=function(){function e(){_classCallCheck(this,e),this.postImage=document.querySelectorAll(".random_post_image")}return _createClass(e,[{key:"render",value:function(){$.ajax({context:this,type:"get",url:"./../random.json",dataType:"json",success:function(e){if(e.length)for(var t=0;t<this.postImage.length;t++)this.postImage[t].setAttribute("src",e[t])}})}}]),e}();_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ValidData=function(){function e(){_classCallCheck(this,e),this.userName=document.querySelector("#contact_name"),this.userEmail=document.querySelector("#contact_email"),this.userMessage=document.querySelector("#user_comments"),this.subscribeEmail=document.querySelector("#subscribe_email"),this.sendUserInfo=document.querySelector("#contact_send"),this.sendSubscribeEmail=document.querySelector("#subscribe_send"),this.$contactForm=$(".form_contact"),this.$subscribeForm=$(".form_subscribe"),this.valid={name:/[A-Za-zа-яА-Я]{2,}/,email:/\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6}/}}return _createClass(e,[{key:"checking",value:function(){var e=this;this.sendUserInfo.addEventListener("click",function(){e.valid.name.test(e.userName.value)||(event.preventDefault(),e.userName.value="Incorrect Name!!!",e.infoPanel("4px","126px","nameError","Bill Gates",e.$contactForm),setTimeout(function(){e.userName.value="",$("#nameError").remove()},1500)),e.valid.email.test(e.userEmail.value)||(event.preventDefault(),e.userEmail.value="Incorrect Email!!!",e.infoPanel("78px","126px","emailError","my@mail.com",e.$contactForm),setTimeout(function(){e.userEmail.value="",$("#emailError").remove()},1500)),e.valid.name.test(e.userName.value)&&e.valid.email.test(e.userEmail.value)&&(e.userName.value="",e.userEmail.value="")}),this.sendSubscribeEmail.addEventListener("click",function(){e.valid.email.test(e.subscribeEmail.value)?e.subscribeEmail.value="":(event.preventDefault(),e.subscribeEmail.value="Incorrect Email!!!",e.infoPanel("10px","160px","subscribeError","my@mail.com",e.$subscribeForm),setTimeout(function(){e.subscribeEmail.value="",$("#subscribeError").remove()},1500))})}},{key:"infoPanel",value:function(e,t,n,a,i){$($('<div class="infoPanel" />').css({top:e,left:t}).attr("id",n).text(a)).appendTo(i)}}]),e}();window.addEventListener("load",function(){(new Menu).menuRender();var e=new Gallery;e.galleryRender(),e.openPanel(),e.likeInc(),e.mobileVersion(),(new SidebarControl).render(),(new Blog).render(),(new RandomPost).render(),(new ValidData).checking()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJUeXBlRXJyb3IiLCJNZW51IiwidGhpcyIsIiRoZWFkZXJDbGlja0ltZyIsIiRmb290ZXJDbGlja0ltZyIsIiRoZWFkZXJEcm9wbGVmdCIsIiRmb290ZXJEcm9wbGVmdCIsIiRtZW51Q2xpY2siLCIkd3JhcHBlciIsIm1lbnVIZWFkZXJJY29uIiwibWVudUZvb3Rlckljb24iLCIkbWVudUJ1dHRvbiIsIm1lbnVBY3RpdmUiLCJ2YWx1ZSIsInNlbGYiLCIkIiwiYXR0ciIsIm9uIiwiZmluZCIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIkdhbGxlcnkiLCJnYWxsZXJ5RGF0YSIsImdhbGxlcnkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnYWxsZXJ5TW9iaWxlIiwiZ2FsbGVyeUltYWdlIiwicXVlcnlTZWxlY3RvckFsbCIsImdhbGxlcnlUaXRsZSIsImdhbGxlcnlTdWJ0aXRsZSIsImdhbGxlcnlNb3V0aCIsImdhbGxlcnlEYXkiLCJnYWxsZXJ5TGlrZUNvdW50IiwiZ2FsbGVyeUNvbW1lbnRzQ291bnQiLCJnYWxsZXJ5QnRuIiwiY29tbWVudHNMaXN0IiwiZ2FsbGVyeVVzZXJDb21tZW50IiwiZ2FsbGVyeUl0ZW0iLCIkZ2FsbGVyeVNlbmRDb21tZW50IiwiJG9wZW5Nb2RhbCIsIiRtb2RhbENsb3NlIiwiJG1vZGFsT3ZlcmxheSIsIiRtb2RhbEZ1bGxJbWFnZSIsIiRtb2RhbEdhbGxlcnkiLCIkZ2FsbGVyeUxpa2UiLCIkZ2FsbGVyeUxpa2VDb3VudCIsIiRnYWxsZXJ5Q29tbWVudHMiLCIkZ2FsbGVyeUNvbW1lbnRzQ291bnQiLCIkbW9kYWxMaWtlIiwiaW1nQ291bnQiLCJhamF4IiwiY29udGV4dCIsInVybCIsInR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJkYXRhIiwic2V0QXR0cmlidXRlIiwic3JjSW1hZ2UiLCJpbm5lckhUTUwiLCJoZWFkZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwibW9udGgiLCJkYXkiLCJmb290ZXIiLCJsaWtlQ291bnRlciIsImNvbW1lbnRzQ291bnRlciIsImhpZGUiLCJjc3MiLCJkaXNwbGF5IiwiaW1hZ2UiLCJzaG93IiwiY29tbWVudHMiLCJwYXJzZUludCIsInBhcmVudCIsInByZXYiLCJ0ZXh0IiwiY2xpY2siLCJ0cmlnZ2VyIiwiYW5pbWF0ZSIsImZvbnRTaXplIiwiYmluZCIsIm5leHQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkQ29tbWVudCIsIiRjb3VudCIsIm5ld1ZhbHVlIiwiY29tbWVudExpbWl0IiwicmFuZG9tUG9zdHMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsaW1pdFBvc3RzIiwiYm9keSIsImFwcGVuZFRvIiwiY29tbWVudFZhbHVlIiwidXNlckNvbW1lbnQiLCJjb21tZW50c0NvdW50IiwiX3RoaXMiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImNsYXNzTGlzdCIsImFkZCIsIndpbmRvdyIsIm9ucmVzaXplIiwicmVtb3ZlIiwiU2lkZWJhciIsIml0ZW1zIiwic2lkZWJhciIsImZvckVhY2giLCJpdGVtIiwiY291bnQiLCJpbnNpZGVDb250ZW50IiwicmVuZGVyIiwiU2lkZWJhclVwTGV2ZWwiLCJjYXRlZ29yaWVzQ29udGFpbmVyIiwiY29udGVudCIsIlNpZGViYXJEb3duTGV2ZWwiLCJsaW5rQ29udGFpbmVyIiwiU2lkZWJhckxpbmsiLCJocmVmIiwiU2lkZWJhckNvbnRyb2wiLCIkY2F0ZWdvcmllcyIsIiRhcmNoaXZlIiwiJGluc2lkZUNvbnRlbnQiLCJfbG9vcCIsInN1YnRleHQiLCJlbGVtZW50IiwicHVzaCIsImFyckxpbmsiLCJlbCIsInNpZGViYXJDb250YWluZXIiLCJjb21wbGV0ZSIsIm9wZW4iLCJub3QiLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiLCJCbG9nIiwiZGF0ZSIsImNhdGVnb3JpZXMiLCJyZWFkVGltZSIsInBvc3RJbWFnZSIsInBvc3RJbWFnZVNpZ25hdHVyZSIsImF1dGhvck5hbWUiLCJhdXRob3JJbWFnZSIsInNldERhdGEiLCJpbWFnZVNpZ25hdHVyZSIsImF1dGhvciIsIm5hbWUiLCJSYW5kb21Qb3N0IiwiVmFsaWREYXRhIiwidXNlck5hbWUiLCJ1c2VyRW1haWwiLCJ1c2VyTWVzc2FnZSIsInN1YnNjcmliZUVtYWlsIiwic2VuZFVzZXJJbmZvIiwic2VuZFN1YnNjcmliZUVtYWlsIiwiJGNvbnRhY3RGb3JtIiwiJHN1YnNjcmliZUZvcm0iLCJ2YWxpZCIsImVtYWlsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRlc3QiLCJpbmZvUGFuZWwiLCJzZXRUaW1lb3V0IiwidG9wIiwibGVmdCIsImlkIiwibWVzc2FnZSIsInBvc2l0aW9uIiwibWVudVJlbmRlciIsImdhbGxlcnlSZW5kZXIiLCJvcGVuUGFuZWwiLCJsaWtlSW5jIiwibW9iaWxlVmVyc2lvbiIsImNoZWNraW5nIl0sIm1hcHBpbmdzIjoiQUFlQSxhQUVBLElBQUlBLGFBQWUsV0FBYyxTQUFTQyxFQUFpQkMsRUFBUUMsR0FBUyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLElBQUlFLEVBQWFILEVBQU1DLEdBQUlFLEVBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFBT0QsRUFBV0UsY0FBZSxFQUFVLFVBQVdGLElBQVlBLEVBQVdHLFVBQVcsR0FBTUMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFBaUIsT0FBTyxTQUFVTyxFQUFhQyxFQUFZ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LEVBQUVBLEVBQUUsNkJBQTZCd0QsS0FDN0JrRyxJQUFLQSxFQUNMQyxLQUFNQSxJQUNQMUosS0FBSyxLQUFNMkosR0FBSTVGLEtBQUs2RixJQUFVMUUsU0FBUzJFLE9BSTNDbkIsRUE5RUssR0FvRmhCL0MsT0FBTzBELGlCQUFpQixPQUFRLFlBQ2pCLElBQUlwSyxNQUNWNkssYUFHTCxJQUFJdEosRUFBVSxJQUFJRixRQUNsQkUsRUFBUXVKLGdCQUNSdkosRUFBUXdKLFlBQ1J4SixFQUFReUosVUFDUnpKLEVBQVEwSixpQkFFTSxJQUFJckQsZ0JBQ1ZSLFVBRUcsSUFBSXdCLE1BQ1Z4QixVQUVZLElBQUlvQyxZQUNWcEMsVUFFQyxJQUFJcUMsV0FDVnlCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRGVwZW5kZW5jaWVzXHJcbiAqIEBqcXVlcnkgdjMuMy4xIC0gbm90IGNvbm5lY3RlZFxyXG4gKiBAYm9vdHN0cmFwIHYzLjMuNyAtIG5vdCBjb25uZWN0ZWRcclxuICogQGxvZGFzaCB2NC4xNy41IC0gbm90IGNvbm5lY3RlZFxyXG4gKiBAYXhpb3MgdjAuMTguMCAtIG5vdCBjb25uZWN0ZWRcclxuICovXHJcblxyXG4vL0AgLi4vLi4vYm93ZXJfY29tcG9uZW50cy9ib290c3RyYXAvZGlzdC9qcy9ib290c3RyYXAuanNcclxuXHJcblxyXG4vKipcclxuICogQ3VzdG9tIHNjcmlwdHNcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbnZhciBNZW51ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTWVudSgpIHtcclxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVudSk7XHJcblxyXG4gICAgICAgIHRoaXMuJGhlYWRlckNsaWNrSW1nID0gJy5oZWFkZXJfbWVudSAubWVudV9jbGljayc7XHJcbiAgICAgICAgdGhpcy4kZm9vdGVyQ2xpY2tJbWcgPSAnLmZvb3Rlcl9tZW51IC5tZW51X2NsaWNrJztcclxuICAgICAgICB0aGlzLiRoZWFkZXJEcm9wbGVmdCA9ICcuaGVhZGVyX21lbnUgLmRyb3BsZWZ0JztcclxuICAgICAgICB0aGlzLiRmb290ZXJEcm9wbGVmdCA9ICcuZm9vdGVyX21lbnUgLmRyb3BsZWZ0JztcclxuICAgICAgICB0aGlzLiRtZW51Q2xpY2sgPSAnLm1lbnVfY2xpY2snO1xyXG4gICAgICAgIHRoaXMuJHdyYXBwZXIgPSAnLndyYXBwZXInO1xyXG4gICAgICAgIHRoaXMubWVudUhlYWRlckljb24gPSAnaW1nL21lbnUvbWVudV9oZWFkZXIucG5nJztcclxuICAgICAgICB0aGlzLm1lbnVGb290ZXJJY29uID0gJ2ltZy9tZW51L21lbnVfZm9vdGVyLnBuZyc7XHJcbiAgICAgICAgdGhpcy4kbWVudUJ1dHRvbiA9ICcuYnRuX21lbnUnO1xyXG4gICAgICAgIHRoaXMubWVudUFjdGl2ZSA9ICdtZW51X2NsaWNrX2FjdGl2ZSc7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUNsYXNzKE1lbnUsIFt7XHJcbiAgICAgICAga2V5OiAnbWVudVJlbmRlcicsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1lbnVSZW5kZXIoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICQoc2VsZi4kaGVhZGVyQ2xpY2tJbWcpLmF0dHIoJ3NyYycsIHNlbGYubWVudUhlYWRlckljb24pO1xyXG4gICAgICAgICAgICAkKHNlbGYuJGZvb3RlckNsaWNrSW1nKS5hdHRyKCdzcmMnLCBzZWxmLm1lbnVGb290ZXJJY29uKTtcclxuXHJcbiAgICAgICAgICAgICQoc2VsZi4kbWVudUJ1dHRvbikub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCgkKHRoaXMpLmZpbmQoc2VsZi4kbWVudUNsaWNrKSkudG9nZ2xlQ2xhc3Moc2VsZi5tZW51QWN0aXZlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKHNlbGYuJHdyYXBwZXIpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKHNlbGYuJGhlYWRlckRyb3BsZWZ0KS5oYXNDbGFzcygnc2hvdycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChzZWxmLiRoZWFkZXJDbGlja0ltZykucmVtb3ZlQ2xhc3Moc2VsZi5tZW51QWN0aXZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJChzZWxmLiRmb290ZXJEcm9wbGVmdCkuaGFzQ2xhc3MoJ3Nob3cnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi4kZm9vdGVyQ2xpY2tJbWcpLnJlbW92ZUNsYXNzKHNlbGYubWVudUFjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbiAgICByZXR1cm4gTWVudTtcclxufSgpO1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbnZhciBHYWxsZXJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gR2FsbGVyeSgpIHtcclxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2FsbGVyeSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeURhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLmdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeScpO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeU1vYmlsZSA9ICdnYWxsZXJ5X21vYmlsZSc7XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfaXRlbV90aXRsZScpO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeVN1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfaXRlbV9zdWJ0aXRsZScpO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeU1vdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfaXRlbV9tb3V0aCcpO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeURheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X2l0ZW1fZGF5Jyk7XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5TGlrZUNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfaXRlbV9saWtlX2NvdW50Jyk7XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5Q29tbWVudHNDb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X2l0ZW1fY29tbWVudHNfY291bnQnKTtcclxuICAgICAgICB0aGlzLmdhbGxlcnlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3Blbl9mdWxsX2J0bicpO1xyXG4gICAgICAgIHRoaXMuY29tbWVudHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX2NvbW1lbnRzJyk7XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5VXNlckNvbW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FsbGVyeVVzZXJDb21tZW50Jyk7XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X2l0ZW0nKTtcclxuICAgICAgICB0aGlzLiRnYWxsZXJ5U2VuZENvbW1lbnQgPSAnI2dhbGxlcnlTZW5kQ29tbWVudCc7XHJcbiAgICAgICAgdGhpcy4kb3Blbk1vZGFsID0gJy5vcGVuX2Z1bGxfYnRuJztcclxuICAgICAgICB0aGlzLiRtb2RhbENsb3NlID0gJyNtb2RhbEZ1bGxDbG9zZSwgI21vZGFsT3ZlcmxheSc7XHJcbiAgICAgICAgdGhpcy4kbW9kYWxPdmVybGF5ID0gJyNtb2RhbE92ZXJsYXknO1xyXG4gICAgICAgIHRoaXMuJG1vZGFsRnVsbEltYWdlID0gJyNtb2RhbEZ1bGxJbWcnO1xyXG4gICAgICAgIHRoaXMuJG1vZGFsR2FsbGVyeSA9ICcubW9kYWxfZnVsbF9nYWxsZXJ5JztcclxuICAgICAgICB0aGlzLiRnYWxsZXJ5TGlrZSA9ICcuZ2FsbGVyeV9pdGVtX2xpa2UnO1xyXG4gICAgICAgIHRoaXMuJGdhbGxlcnlMaWtlQ291bnQgPSAnLmdhbGxlcnlfaXRlbV9saWtlX2NvdW50JztcclxuICAgICAgICB0aGlzLiRnYWxsZXJ5Q29tbWVudHMgPSAnLmdhbGxlcnlfaXRlbV9jb21tZW50cyc7XHJcbiAgICAgICAgdGhpcy4kZ2FsbGVyeUNvbW1lbnRzQ291bnQgPSAnLmdhbGxlcnlfaXRlbV9jb21tZW50c19jb3VudCc7XHJcbiAgICAgICAgdGhpcy4kbW9kYWxMaWtlID0gJyNtb2RhbExpa2UnO1xyXG5cclxuICAgICAgICB0aGlzLmltZ0NvdW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlQ2xhc3MoR2FsbGVyeSwgW3tcclxuICAgICAgICBrZXk6ICdnYWxsZXJ5UmVuZGVyJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2FsbGVyeVJlbmRlcigpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcuLy4uL2dhbGxlcnkuanNvbicsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcblxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdhbGxlcnlJbWFnZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlJbWFnZVtpXS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRhdGFbaV0uc3JjSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlUaXRsZVtpXS5pbm5lckhUTUwgPSBkYXRhW2ldLmhlYWRlci50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYWxsZXJ5U3VidGl0bGVbaV0uaW5uZXJIVE1MID0gZGF0YVtpXS5oZWFkZXIuc3VidGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeU1vdXRoW2ldLmlubmVySFRNTCA9IGRhdGFbaV0uaGVhZGVyLm1vbnRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlEYXlbaV0uaW5uZXJIVE1MID0gZGF0YVtpXS5oZWFkZXIuZGF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlMaWtlQ291bnRbaV0uaW5uZXJIVE1MID0gZGF0YVtpXS5mb290ZXIubGlrZUNvdW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeUNvbW1lbnRzQ291bnRbaV0uaW5uZXJIVE1MID0gZGF0YVtpXS5mb290ZXIuY29tbWVudHNDb3VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnlCdG5baV0uc2V0QXR0cmlidXRlKCdkYXRhLWltYWdlJywgJycgKyBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeURhdGFbaV0gPSBkYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGtleTogJ29wZW5QYW5lbCcsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5QYW5lbCgpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgJChzZWxmLiRtb2RhbENsb3NlKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHNlbGYuJG1vZGFsR2FsbGVyeSkuaGlkZSgnc2xvdycpO1xyXG4gICAgICAgICAgICAgICAgJChzZWxmLiRtb2RhbE92ZXJsYXkpLmNzcyh7ICdkaXNwbGF5JzogJ25vbmUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoc2VsZi4kb3Blbk1vZGFsKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmltZ0NvdW50ID0gJCh0aGlzKS5kYXRhKCkuaW1hZ2U7XHJcblxyXG4gICAgICAgICAgICAgICAgJChzZWxmLiRtb2RhbEZ1bGxJbWFnZSkuYXR0cignc3JjJywgc2VsZi5nYWxsZXJ5RGF0YVskKHRoaXMpLmRhdGEoKS5pbWFnZV0uc3JjSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgJChzZWxmLiRtb2RhbE92ZXJsYXkpLmNzcyh7ICdkaXNwbGF5JzogJ2Jsb2NrJyB9KTtcclxuICAgICAgICAgICAgICAgICQoc2VsZi4kbW9kYWxHYWxsZXJ5KS5zaG93KCdzbG93Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5jb21tZW50cyhwYXJzZUludCgkKCQodGhpcykucGFyZW50KCkucHJldigpLmZpbmQoc2VsZi4kZ2FsbGVyeUNvbW1lbnRzQ291bnQpKS50ZXh0KCkpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKHNlbGYuJG1vZGFsTGlrZSkuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCgkKHNlbGYuJGdhbGxlcnlMaWtlKVtzZWxmLmltZ0NvdW50XSkudHJpZ2dlcignY2xpY2snKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFuaW1hdGUoeyBmb250U2l6ZTogJzExMHB4JyB9LCAnZmFzdCcsICdsaW5lYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hbmltYXRlKHsgZm9udFNpemU6ICc5MHB4JyB9LCAnZmFzdCcsICdsaW5lYXInKTtcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChzZWxmLiRnYWxsZXJ5Q29tbWVudHMpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoJCgkKCQodGhpcykucGFyZW50KCkpLnBhcmVudCgpKS5uZXh0KCkpLmZpbmQoc2VsZi4kb3Blbk1vZGFsKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoc2VsZi4kZ2FsbGVyeVNlbmRDb21tZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmFkZENvbW1lbnQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGtleTogJ2xpa2VJbmMnLFxyXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsaWtlSW5jKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAkKHNlbGYuJGdhbGxlcnlMaWtlKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGNvdW50ID0gJCgkKHRoaXMpLmZpbmQoc2VsZi4kZ2FsbGVyeUxpa2VDb3VudCkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gcGFyc2VJbnQoJGNvdW50LnRleHQoKSkgKyAxO1xyXG4gICAgICAgICAgICAgICAgJCgkY291bnQpLnRleHQobmV3VmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qINCf0YDQuNC80LXRgNC90YvQuSBBSkFYINC30LDQv9GA0L7RgSDQvdCwINGB0LXRgNCy0LXRgCwg0YfRgtC+INCx0Ysg0LjQt9C80LXQvdC40YLRjCDQsiDQkdCUINC60L7Qu9C40YfQtdGB0YLQstC+INC70LDQudC60L7QsiDQv9C+0LQg0LrQsNGA0YLQuNC90LrQvtC5XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnLi4uJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAndmFsdWU9JyArIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnYm9vbGVhbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCRjb3VudCkudGV4dChuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBrZXk6ICdjb21tZW50cycsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbW1lbnRzKGNvbW1lbnRMaW1pdCkge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgY29udGV4dDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdnZXQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vY29tbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZG9tUG9zdHMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW1pdFBvc3RzID0gcmFuZG9tUG9zdHMgKyBjb21tZW50TGltaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzTGlzdCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcmFuZG9tUG9zdHM7IGkgPCBsaW1pdFBvc3RzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudHNMaXN0ICs9ICc8ZGl2IGNsYXNzPVwibW9kYWxfY29tbWVudHNfaXRlbSBjYXJkXCI+PGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPicgKyBkYXRhW2ldLmJvZHkgKyAnICcgKyBpICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRzTGlzdC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAkKGNvbW1lbnRzTGlzdCkuYXBwZW5kVG8odGhpcy5jb21tZW50c0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAga2V5OiAnYWRkQ29tbWVudCcsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENvbW1lbnQoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21tZW50VmFsdWUgPSB0aGlzLmdhbGxlcnlVc2VyQ29tbWVudDtcclxuICAgICAgICAgICAgaWYgKGNvbW1lbnRWYWx1ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJDb21tZW50ID0gJzxkaXYgY2xhc3M9XCJtb2RhbF9jb21tZW50c19pdGVtIGNhcmRcIj48ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+JyArIGNvbW1lbnRWYWx1ZS52YWx1ZSArICc8L2Rpdj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzQ291bnQgPSAkKCQodGhpcy4kZ2FsbGVyeUNvbW1lbnRzQ291bnQpW3RoaXMuaW1nQ291bnRdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKHVzZXJDb21tZW50KS5hcHBlbmRUbyh0aGlzLmNvbW1lbnRzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICBjb21tZW50VmFsdWUudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRzQ291bnQudGV4dChwYXJzZUludChjb21tZW50c0NvdW50LnRleHQoKSkgKyAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBrZXk6ICdtb2JpbGVWZXJzaW9uJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbW9iaWxlVmVyc2lvbigpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPD0gOTgxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnkuY2xhc3NMaXN0LmFkZCh0aGlzLmdhbGxlcnlNb2JpbGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDw9IDk4MSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdhbGxlcnkuY2xhc3NMaXN0LmFkZChfdGhpcy5nYWxsZXJ5TW9iaWxlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2FsbGVyeS5jbGFzc0xpc3QucmVtb3ZlKF90aGlzLmdhbGxlcnlNb2JpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbiAgICByZXR1cm4gR2FsbGVyeTtcclxufSgpO1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbnZhciBTaWRlYmFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2lkZWJhcihpdGVtcykge1xyXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaWRlYmFyKTtcclxuXHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVDbGFzcyhTaWRlYmFyLCBbe1xyXG4gICAgICAgIGtleTogJ3JlbmRlcicsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgICAgICAgdmFyIHNpZGViYXIgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaWRlYmFyICs9ICc8ZGl2IGNsYXNzPVwic2lkZWJhcl90YWJcIj4nICsgaXRlbS50ZXh0ICsgJyAoPHNwYW4gY2xhc3M9XCJzaWRlYmFyX2NvdW50XCI+JyArIGl0ZW0uY291bnQgKyAnPC9zcGFuPik8L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgICAgIHNpZGViYXIgKz0gJzxkaXYgY2xhc3M9XCJzaWRlYmFyX2NvbnRlbnRcIj4nICsgaXRlbS5pbnNpZGVDb250ZW50LnJlbmRlcigpICsgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNpZGViYXI7XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuICAgIHJldHVybiBTaWRlYmFyO1xyXG59KCk7XHJcblxyXG52YXIgU2lkZWJhclVwTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTaWRlYmFyVXBMZXZlbChpdGVtcykge1xyXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaWRlYmFyVXBMZXZlbCk7XHJcblxyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlQ2xhc3MoU2lkZWJhclVwTGV2ZWwsIFt7XHJcbiAgICAgICAga2V5OiAncmVuZGVyJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllc0NvbnRhaW5lciA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNDb250YWluZXIgKz0gJzxkaXYgY2xhc3M9XCJzaWRlYmFyX2luc2lkZV90YWJcIj4nICsgaXRlbS5tb250aCArICcgKDxzcGFuIGNsYXNzPVwic2lkZWJhcl9pbnNpZGVfY291bnRcIj4nICsgaXRlbS5jb3VudCArICc8L3NwYW4+KTwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc0NvbnRhaW5lciArPSAnPGRpdiBjbGFzcz1cInNpZGViYXJfaW5zaWRlX2NvbnRlbnRcIj4nICsgaXRlbS5jb250ZW50LnJlbmRlcigpICsgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3JpZXNDb250YWluZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuICAgIHJldHVybiBTaWRlYmFyVXBMZXZlbDtcclxufSgpO1xyXG5cclxudmFyIFNpZGViYXJEb3duTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTaWRlYmFyRG93bkxldmVsKGl0ZW1zKSB7XHJcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZGViYXJEb3duTGV2ZWwpO1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUNsYXNzKFNpZGViYXJEb3duTGV2ZWwsIFt7XHJcbiAgICAgICAga2V5OiAncmVuZGVyJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICAgICAgICB2YXIgbGlua0NvbnRhaW5lciA9ICc8ZGl2IGNsYXNzPVwic2lkZWJhcl9saW5rX2NvbnRhaW5lclwiPic7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua0NvbnRhaW5lciArPSBpdGVtLnJlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxpbmtDb250YWluZXIgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5rQ29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbiAgICByZXR1cm4gU2lkZWJhckRvd25MZXZlbDtcclxufSgpO1xyXG5cclxudmFyIFNpZGViYXJMaW5rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2lkZWJhckxpbmsoaHJlZiwgdGl0bGUpIHtcclxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lkZWJhckxpbmspO1xyXG5cclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5ocmVmID0gaHJlZjtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlQ2xhc3MoU2lkZWJhckxpbmssIFt7XHJcbiAgICAgICAga2V5OiAncmVuZGVyJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxhIGNsYXNzPVwic2lkZWJhcl9saW5rXCIgaHJlZj1cIicgKyB0aGlzLmhyZWYgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JyArIHRoaXMudGl0bGUgKyAnPC9hPic7XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuICAgIHJldHVybiBTaWRlYmFyTGluaztcclxufSgpO1xyXG5cclxudmFyIFNpZGViYXJDb250cm9sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2lkZWJhckNvbnRyb2woKSB7XHJcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZGViYXJDb250cm9sKTtcclxuXHJcbiAgICAgICAgdGhpcy4kY2F0ZWdvcmllcyA9ICcuc2lkZWJhcl9jYXRlZ29yaWVzIC5zaWRlYmFyX3RhYic7XHJcbiAgICAgICAgdGhpcy4kYXJjaGl2ZSA9ICcuc2lkZWJhcl9hcmNoaXZlIC5zaWRlYmFyX3RhYic7XHJcbiAgICAgICAgdGhpcy4kaW5zaWRlQ29udGVudCA9ICcuc2lkZWJhcl9jb250ZW50IC5zaWRlYmFyX2luc2lkZV90YWInO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVDbGFzcyhTaWRlYmFyQ29udHJvbCwgW3tcclxuICAgICAgICBrZXk6ICdyZW5kZXInLFxyXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcclxuICAgICAgICAgICAgICAgIHVybDogJy4vLi4vc2lkZWJhci5qc29uJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcblxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpZGViYXIgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBkYXRhW2ldLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VidGV4dCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc2lkZUNvbnRlbnQgPSB2b2lkIDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN1YnRleHQuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGV4dC5wdXNoKG5ldyBTaWRlYmFyTGluayhlbGVtZW50LmhyZWYsIGVsZW1lbnQudGl0bGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNpZGVDb250ZW50ID0gbmV3IFNpZGViYXJEb3duTGV2ZWwoc3VidGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdWJ0ZXh0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcnJMaW5rID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyTGluay5wdXNoKG5ldyBTaWRlYmFyTGluayhlbC5ocmVmLCBlbC50aXRsZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGV4dC5wdXNoKHsgbW9udGg6IGVsZW1lbnQubW9udGgsIGNvdW50OiBlbGVtZW50LmNvdW50LCBjb250ZW50OiBuZXcgU2lkZWJhckRvd25MZXZlbChhcnJMaW5rKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNpZGVDb250ZW50ID0gbmV3IFNpZGViYXJVcExldmVsKHN1YnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goeyBjb3VudDogaXRlbS5jb3VudCwgdGV4dDogaXRlbS50ZXh0LCBpbnNpZGVDb250ZW50OiBpbnNpZGVDb250ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZGViYXIucHVzaChuZXcgU2lkZWJhcihjb250ZW50KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpZGViYXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2lkZWJhcl9jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWRlYmFyQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZGViYXJDb250YWluZXJbaV0uaW5uZXJIVE1MID0gc2lkZWJhcltpXS5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAga2V5OiAnb3BlbicsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICQoc2VsZi4kY2F0ZWdvcmllcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCgkKHNlbGYuJGNhdGVnb3JpZXMpLm5vdCh0aGlzKS5uZXh0KCkpLnNsaWRlVXAoJ3Nsb3cnKTtcclxuICAgICAgICAgICAgICAgICQoJCh0aGlzKS5uZXh0KCkpLnNsaWRlVG9nZ2xlKCdzbG93Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChzZWxmLiRhcmNoaXZlKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKCQoc2VsZi4kYXJjaGl2ZSkubm90KHRoaXMpLm5leHQoKSkuc2xpZGVVcCgnc2xvdycpO1xyXG4gICAgICAgICAgICAgICAgJCgkKHRoaXMpLm5leHQoKSkuc2xpZGVUb2dnbGUoJ3Nsb3cnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKHNlbGYuJGluc2lkZUNvbnRlbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoJChzZWxmLiRpbnNpZGVDb250ZW50KS5ub3QodGhpcykubmV4dCgpKS5zbGlkZVVwKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCQodGhpcykubmV4dCgpKS5zbGlkZVRvZ2dsZSgnc2xvdycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XSk7XHJcblxyXG4gICAgcmV0dXJuIFNpZGViYXJDb250cm9sO1xyXG59KCk7XHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxudmFyIEJsb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCbG9nKCkge1xyXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbG9nKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhID0gW107XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3N0X3RpdGxlJyk7XHJcbiAgICAgICAgdGhpcy5kYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc3RfZGF0ZScpO1xyXG4gICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3N0X2NhdGVnb3JpZXMnKTtcclxuICAgICAgICB0aGlzLnJlYWRUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc3RfcmVhZF90aW1lJyk7XHJcbiAgICAgICAgdGhpcy5wb3N0SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9zdF9pbWFnZScpO1xyXG4gICAgICAgIHRoaXMucG9zdEltYWdlU2lnbmF0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc3RfaW1hZ2VfdGV4dCcpO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3N0X3RleHQnKTtcclxuICAgICAgICB0aGlzLnN1YnRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9zdF9zdWJ0ZXh0Jyk7XHJcbiAgICAgICAgdGhpcy5hdXRob3JOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc3RfYXV0aG9yX25hbWUnKTtcclxuICAgICAgICB0aGlzLmF1dGhvckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc3RfYXV0aG9yX2ltYWdlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUNsYXNzKEJsb2csIFt7XHJcbiAgICAgICAga2V5OiAncmVuZGVyJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgY29udGV4dDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdnZXQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLi8uLi9wb3N0Lmpzb24nLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGtleTogJ3NldERhdGEnLFxyXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZVtpXS5pbm5lckhUTUwgPSB0aGlzLmRhdGFbaV0uaGVhZGVyLnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlW2ldLmlubmVySFRNTCA9IHRoaXMuZGF0YVtpXS5oZWFkZXIuZGF0ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllc1tpXS5pbm5lckhUTUwgPSB0aGlzLmRhdGFbaV0uaGVhZGVyLmNhdGVnb3JpZXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRUaW1lW2ldLmlubmVySFRNTCA9IHRoaXMuZGF0YVtpXS5oZWFkZXIucmVhZFRpbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc3RJbWFnZVtpXS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuZGF0YVtpXS5jb250ZW50LmltYWdlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zdEltYWdlU2lnbmF0dXJlW2ldLmlubmVySFRNTCA9IHRoaXMuZGF0YVtpXS5jb250ZW50LmltYWdlU2lnbmF0dXJlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0W2ldLmlubmVySFRNTCA9IHRoaXMuZGF0YVtpXS5jb250ZW50LnRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRleHRbaV0uaW5uZXJIVE1MID0gdGhpcy5kYXRhW2ldLmNvbnRlbnQuc3VidGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0aG9yTmFtZVtpXS5pbm5lckhUTUwgPSB0aGlzLmRhdGFbaV0uYXV0aG9yLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhvckltYWdlW2ldLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5kYXRhW2ldLmF1dGhvci5pbWFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XSk7XHJcblxyXG4gICAgcmV0dXJuIEJsb2c7XHJcbn0oKTtcclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG52YXIgUmFuZG9tUG9zdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJhbmRvbVBvc3QoKSB7XHJcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmRvbVBvc3QpO1xyXG5cclxuICAgICAgICB0aGlzLnBvc3RJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYW5kb21fcG9zdF9pbWFnZScpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVDbGFzcyhSYW5kb21Qb3N0LCBbe1xyXG4gICAgICAgIGtleTogJ3JlbmRlcicsXHJcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcclxuICAgICAgICAgICAgICAgIHVybDogJy4vLi4vcmFuZG9tLmpzb24nLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvc3RJbWFnZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0SW1hZ2VbaV0uc2V0QXR0cmlidXRlKCdzcmMnLCBkYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuICAgIHJldHVybiBSYW5kb21Qb3N0O1xyXG59KCk7XHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxudmFyIFZhbGlkRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFZhbGlkRGF0YSgpIHtcclxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmFsaWREYXRhKTtcclxuXHJcbiAgICAgICAgdGhpcy51c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWN0X25hbWUnKTtcclxuICAgICAgICB0aGlzLnVzZXJFbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWN0X2VtYWlsJyk7XHJcbiAgICAgICAgdGhpcy51c2VyTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyX2NvbW1lbnRzJyk7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVFbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJzY3JpYmVfZW1haWwnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZW5kVXNlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFjdF9zZW5kJyk7XHJcbiAgICAgICAgdGhpcy5zZW5kU3Vic2NyaWJlRW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3Vic2NyaWJlX3NlbmQnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kY29udGFjdEZvcm0gPSAkKCcuZm9ybV9jb250YWN0Jyk7XHJcbiAgICAgICAgdGhpcy4kc3Vic2NyaWJlRm9ybSA9ICQoJy5mb3JtX3N1YnNjcmliZScpO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkID0ge1xyXG4gICAgICAgICAgICBuYW1lOiAvW0EtWmEtetCwLdGP0JAt0K9dezIsfS8sXHJcbiAgICAgICAgICAgIGVtYWlsOiAvXFx3K0BbYS16QS1aX10rP1xcLlthLXpBLVpdezIsNn0vXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlQ2xhc3MoVmFsaWREYXRhLCBbe1xyXG4gICAgICAgIGtleTogJ2NoZWNraW5nJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tpbmcoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbmRVc2VySW5mby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhbGlkLm5hbWUudGVzdChfdGhpcy51c2VyTmFtZS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJOYW1lLnZhbHVlID0gJ0luY29ycmVjdCBOYW1lISEhJztcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmZvUGFuZWwoJzRweCcsICcxMjZweCcsICduYW1lRXJyb3InLCAnQmlsbCBHYXRlcycsIF90aGlzLiRjb250YWN0Rm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJOYW1lLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNuYW1lRXJyb3InKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMudmFsaWQuZW1haWwudGVzdChfdGhpcy51c2VyRW1haWwudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyRW1haWwudmFsdWUgPSAnSW5jb3JyZWN0IEVtYWlsISEhJztcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmZvUGFuZWwoJzc4cHgnLCAnMTI2cHgnLCAnZW1haWxFcnJvcicsICdteUBtYWlsLmNvbScsIF90aGlzLiRjb250YWN0Rm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJFbWFpbC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZW1haWxFcnJvcicpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZC5uYW1lLnRlc3QoX3RoaXMudXNlck5hbWUudmFsdWUpICYmIF90aGlzLnZhbGlkLmVtYWlsLnRlc3QoX3RoaXMudXNlckVtYWlsLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJOYW1lLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXNlckVtYWlsLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZW5kU3Vic2NyaWJlRW1haWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy52YWxpZC5lbWFpbC50ZXN0KF90aGlzLnN1YnNjcmliZUVtYWlsLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlRW1haWwudmFsdWUgPSAnSW5jb3JyZWN0IEVtYWlsISEhJztcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmZvUGFuZWwoJzEwcHgnLCAnMTYwcHgnLCAnc3Vic2NyaWJlRXJyb3InLCAnbXlAbWFpbC5jb20nLCBfdGhpcy4kc3Vic2NyaWJlRm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZUVtYWlsLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJzY3JpYmVFcnJvcicpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmVFbWFpbC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAga2V5OiAnaW5mb1BhbmVsJyxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5mb1BhbmVsKHRvcCwgbGVmdCwgaWQsIG1lc3NhZ2UsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICQoJCgnPGRpdiBjbGFzcz1cImluZm9QYW5lbFwiIC8+JykuY3NzKHtcclxuICAgICAgICAgICAgICAgIHRvcDogdG9wLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdFxyXG4gICAgICAgICAgICB9KS5hdHRyKCdpZCcsIGlkKS50ZXh0KG1lc3NhZ2UpKS5hcHBlbmRUbyhwb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuICAgIHJldHVybiBWYWxpZERhdGE7XHJcbn0oKTtcclxuXHJcblxyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1lbnUgPSBuZXcgTWVudSgpO1xyXG4gICAgbWVudS5tZW51UmVuZGVyKCk7XHJcblxyXG5cclxuICAgIHZhciBnYWxsZXJ5ID0gbmV3IEdhbGxlcnkoKTtcclxuICAgIGdhbGxlcnkuZ2FsbGVyeVJlbmRlcigpO1xyXG4gICAgZ2FsbGVyeS5vcGVuUGFuZWwoKTtcclxuICAgIGdhbGxlcnkubGlrZUluYygpO1xyXG4gICAgZ2FsbGVyeS5tb2JpbGVWZXJzaW9uKCk7XHJcblxyXG4gICAgdmFyIHNpZGViYXIgPSBuZXcgU2lkZWJhckNvbnRyb2woKTtcclxuICAgIHNpZGViYXIucmVuZGVyKCk7XHJcblxyXG4gICAgdmFyIGJsb2cgPSBuZXcgQmxvZygpO1xyXG4gICAgYmxvZy5yZW5kZXIoKTtcclxuXHJcbiAgICB2YXIgcmFuZG9tUG9zdCA9IG5ldyBSYW5kb21Qb3N0KCk7XHJcbiAgICByYW5kb21Qb3N0LnJlbmRlcigpO1xyXG5cclxuICAgIHZhciB2YWxpZCA9IG5ldyBWYWxpZERhdGEoKTtcclxuICAgIHZhbGlkLmNoZWNraW5nKCk7XHJcbn0pOyJdfQ==
